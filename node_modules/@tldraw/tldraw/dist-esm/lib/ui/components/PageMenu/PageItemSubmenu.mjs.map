{
  "version": 3,
  "sources": ["../../../../../src/lib/ui/components/PageMenu/PageItemSubmenu.tsx"],
  "sourcesContent": ["import * as DropdownMenu from '@radix-ui/react-dropdown-menu'\nimport { MAX_PAGES, PageRecordType, TLPageId, track, useEditor } from '@tldraw/editor'\nimport { useCallback } from 'react'\nimport { useTranslation } from '../../hooks/useTranslation/useTranslation'\nimport { Button } from '../primitives/Button'\nimport * as M from '../primitives/DropdownMenu'\nimport { onMovePage } from './edit-pages-shared'\n\nexport interface PageItemSubmenuProps {\n\tindex: number\n\titem: { id: string; name: string }\n\tlistSize: number\n\tonRename?: () => void\n}\n\nexport const PageItemSubmenu = track(function PageItemSubmenu({\n\tindex,\n\tlistSize,\n\titem,\n\tonRename,\n}: PageItemSubmenuProps) {\n\tconst editor = useEditor()\n\tconst msg = useTranslation()\n\tconst pages = editor.pages\n\n\tconst onDuplicate = useCallback(() => {\n\t\teditor.mark('creating page')\n\t\tconst newId = PageRecordType.createId()\n\t\teditor.duplicatePage(item.id as TLPageId, newId)\n\t}, [editor, item])\n\n\tconst onMoveUp = useCallback(() => {\n\t\tonMovePage(editor, item.id as TLPageId, index, index - 1)\n\t}, [editor, item, index])\n\n\tconst onMoveDown = useCallback(() => {\n\t\tonMovePage(editor, item.id as TLPageId, index, index + 1)\n\t}, [editor, item, index])\n\n\tconst onDelete = useCallback(() => {\n\t\teditor.mark('deleting page')\n\t\teditor.deletePage(item.id as TLPageId)\n\t}, [editor, item])\n\n\treturn (\n\t\t<M.Root id={`page item submenu ${index}`}>\n\t\t\t<M.Trigger>\n\t\t\t\t<Button title={msg('page-menu.submenu.title')} icon=\"dots-vertical\" />\n\t\t\t</M.Trigger>\n\t\t\t<M.Content alignOffset={0}>\n\t\t\t\t<M.Group>\n\t\t\t\t\t{onRename && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onRename} asChild>\n\t\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.rename\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t\t<DropdownMenu.Item\n\t\t\t\t\t\tdir=\"ltr\"\n\t\t\t\t\t\tonSelect={onDuplicate}\n\t\t\t\t\t\tdisabled={pages.length >= MAX_PAGES}\n\t\t\t\t\t\tasChild\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.duplicate-page\" />\n\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t{index > 0 && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onMoveUp} asChild>\n\t\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.move-up\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t\t{index < listSize - 1 && (\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onMoveDown} asChild>\n\t\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.move-down\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t)}\n\t\t\t\t</M.Group>\n\t\t\t\t{listSize > 1 && (\n\t\t\t\t\t<M.Group>\n\t\t\t\t\t\t<DropdownMenu.Item dir=\"ltr\" onSelect={onDelete} asChild>\n\t\t\t\t\t\t\t<Button className=\"tlui-menu__button\" label=\"page-menu.submenu.delete\" />\n\t\t\t\t\t\t</DropdownMenu.Item>\n\t\t\t\t\t</M.Group>\n\t\t\t\t)}\n\t\t\t</M.Content>\n\t\t</M.Root>\n\t)\n})\n"],
  "mappings": "AA+CI,cAGA,YAHA;AA/CJ,YAAY,kBAAkB;AAC9B,SAAS,WAAW,gBAA0B,OAAO,iBAAiB;AACtE,SAAS,mBAAmB;AAC5B,SAAS,sBAAsB;AAC/B,SAAS,cAAc;AACvB,YAAY,OAAO;AACnB,SAAS,kBAAkB;AASpB,MAAM,kBAAkB,MAAM,SAASA,iBAAgB;AAAA,EAC7D;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,GAAyB;AACxB,QAAM,SAAS,UAAU;AACzB,QAAM,MAAM,eAAe;AAC3B,QAAM,QAAQ,OAAO;AAErB,QAAM,cAAc,YAAY,MAAM;AACrC,WAAO,KAAK,eAAe;AAC3B,UAAM,QAAQ,eAAe,SAAS;AACtC,WAAO,cAAc,KAAK,IAAgB,KAAK;AAAA,EAChD,GAAG,CAAC,QAAQ,IAAI,CAAC;AAEjB,QAAM,WAAW,YAAY,MAAM;AAClC,eAAW,QAAQ,KAAK,IAAgB,OAAO,QAAQ,CAAC;AAAA,EACzD,GAAG,CAAC,QAAQ,MAAM,KAAK,CAAC;AAExB,QAAM,aAAa,YAAY,MAAM;AACpC,eAAW,QAAQ,KAAK,IAAgB,OAAO,QAAQ,CAAC;AAAA,EACzD,GAAG,CAAC,QAAQ,MAAM,KAAK,CAAC;AAExB,QAAM,WAAW,YAAY,MAAM;AAClC,WAAO,KAAK,eAAe;AAC3B,WAAO,WAAW,KAAK,EAAc;AAAA,EACtC,GAAG,CAAC,QAAQ,IAAI,CAAC;AAEjB,SACC,qBAAC,EAAE,MAAF,EAAO,IAAI,qBAAqB,KAAK,IACrC;AAAA,wBAAC,EAAE,SAAF,EACA,8BAAC,UAAO,OAAO,IAAI,yBAAyB,GAAG,MAAK,iBAAgB,GACrE;AAAA,IACA,qBAAC,EAAE,SAAF,EAAU,aAAa,GACvB;AAAA,2BAAC,EAAE,OAAF,EACC;AAAA,oBACA,oBAAC,aAAa,MAAb,EAAkB,KAAI,OAAM,UAAU,UAAU,SAAO,MACvD,8BAAC,UAAO,WAAU,qBAAoB,OAAM,4BAA2B,GACxE;AAAA,QAED;AAAA,UAAC,aAAa;AAAA,UAAb;AAAA,YACA,KAAI;AAAA,YACJ,UAAU;AAAA,YACV,UAAU,MAAM,UAAU;AAAA,YAC1B,SAAO;AAAA,YAEP,8BAAC,UAAO,WAAU,qBAAoB,OAAM,oCAAmC;AAAA;AAAA,QAChF;AAAA,QACC,QAAQ,KACR,oBAAC,aAAa,MAAb,EAAkB,KAAI,OAAM,UAAU,UAAU,SAAO,MACvD,8BAAC,UAAO,WAAU,qBAAoB,OAAM,6BAA4B,GACzE;AAAA,QAEA,QAAQ,WAAW,KACnB,oBAAC,aAAa,MAAb,EAAkB,KAAI,OAAM,UAAU,YAAY,SAAO,MACzD,8BAAC,UAAO,WAAU,qBAAoB,OAAM,+BAA8B,GAC3E;AAAA,SAEF;AAAA,MACC,WAAW,KACX,oBAAC,EAAE,OAAF,EACA,8BAAC,aAAa,MAAb,EAAkB,KAAI,OAAM,UAAU,UAAU,SAAO,MACvD,8BAAC,UAAO,WAAU,qBAAoB,OAAM,4BAA2B,GACxE,GACD;AAAA,OAEF;AAAA,KACD;AAEF,CAAC;",
  "names": ["PageItemSubmenu"]
}
